# Data Pipeline Configuration - Baseline (Original 377 samples)
# This configuration replicates the original filtering criteria used to create
# the 377-sample Integrated_Features.hdf5 dataset

# --- File Paths ---
data_directory: "data/"
output_file: "outputs/preprocessed_data/Integrated_Features_baseline.hdf5"

# --- CBH Filtering ---
cbh_min: 0.2  # Minimum cloud base height in km (original: 0.2 km)
cbh_max: 2.0  # Maximum cloud base height in km (original: 2.0 km)

# --- Surface Type Filtering ---
dem_mode: "exact"  # Options: "exact" (DEM == 0), "threshold" (DEM < dem_threshold)
dem_threshold: 0.0       # Only used if dem_mode is "threshold"

# --- Cloud Layer Filtering ---
allow_multilayer: false  # Only include single-layer clouds (original behavior)

# --- Temporal Matching ---
time_tolerance: 0.5  # Seconds - temporal matching window for IRAI/CPL alignment

# --- Swath Parameters ---
swath_slice: [40, 480]  # Pixel range to extract from IRAI swath

# --- Flight Information ---
# List of flights to process. Each flight requires:
#   - name: Flight identifier
#   - iFileName: Path to IRAI L1B file (relative to data_directory)
#   - cFileName: Path to CPL L2 file (relative to data_directory)
#   - nFileName: Path to CRS navigation file (relative to data_directory)
flights:
  - name: "30Oct24"
    iFileName: "30Oct24/WHYMSIE2024_IRAI_L1B_Rev-_20241030-008.h5"
    cFileName: "30Oct24/CPL_L2_V1-02_01kmLay_259006_30oct24.hdf5"
    nFileName: "30Oct24/CRS_20241030_nav.hdf"
  - name: "10Feb25"
    iFileName: "10Feb25/GLOVE2025_IRAI_L1B_Rev-_20250210-003.h5"
    cFileName: "10Feb25/CPL_L2_V1-02_01kmLay_259015_10feb25.hdf5"
    nFileName: "10Feb25/CRS_20250210_nav.hdf"
  - name: "23Oct24"
    iFileName: "23Oct24/WHYMSIE2024_IRAI_L1B_Rev-_20241023-007.h5"
    cFileName: "23Oct24/CPL_L2_V1-02_01kmLay_259004_23oct24.hdf5"
    nFileName: "23Oct24/CRS_20241023_nav.hdf"
  - name: "12Feb25"
    iFileName: "12Feb25/GLOVE2025_IRAI_L1B_Rev-_20250212-005.h5"
    cFileName: "12Feb25/CPL_L2_V1-02_01kmLay_259016_12feb25.hdf5"
    nFileName: "12Feb25/CRS_20250212_nav.hdf"
  - name: "18Feb25"
    iFileName: "18Feb25/GLOVE2025_IRAI_L1B_Rev-_20250218-002.h5"
    cFileName: "18Feb25/CPL_L2_V1-02_01kmLay_259017_18feb25.hdf5"
    nFileName: "18Feb25/CRS_20250218_nav.hdf"

# --- Notes ---
# Actual output: 377 samples
# This matches the original dataset filtering criteria:
#   - CBH in range [0.2, 2.0] km
#   - Ocean only (DEM == 0)
#   - Single-layer clouds only
#   - 0.5 second temporal matching tolerance
# Match rate: 3.04% (377 out of 12,390 CPL profiles)
