{
  "title": "Cloud Base Height Prediction - Validation Summary",
  "sow_deliverable": "7.3c",
  "timestamp": "2025-11-09T15:49:41.925066",
  "validation_protocol": "Stratified 5-Fold Cross-Validation",
  "dataset_info": {
    "total_samples": 933,
    "n_flights": 5,
    "cbh_range_km": [
      0.12,
      1.95
    ],
    "cbh_mean_km": 0.83,
    "flight_distribution": {
      "F0_30Oct24": 501,
      "F1_10Feb25": 191,
      "F2_23Oct24": 105,
      "F3_12Feb25": 92,
      "F4_18Feb25": 44
    }
  },
  "models_evaluated": [
    "wp3_physical",
    "wp4_image_only",
    "wp4_concat",
    "wp4_attention"
  ],
  "comparison_table": [
    {
      "model": "physical_baseline",
      "description": "GBDT baseline (geometric + atmospheric features)",
      "mean_r2": 0.6759241261737797,
      "std_r2": 0.0441803276426161,
      "mean_mae_km": 0.1356183469486147,
      "std_mae_km": 0.006836614010198975,
      "mean_rmse_km": 0.21049369620099348,
      "std_rmse_km": 0.012315450995830776
    },
    {
      "model": "attention",
      "description": "2D CNN + physical features (attention fusion)",
      "mean_r2": 0.326096785068512,
      "std_r2": 0.07666648322420838,
      "mean_mae_km": 0.22146342396736146,
      "std_mae_km": 0.014003824251278017,
      "mean_rmse_km": 0.30425019417329685,
      "std_rmse_km": 0.019154755079143836
    },
    {
      "model": "image_only",
      "description": "2D CNN baseline (image features only)",
      "mean_r2": 0.2792235255241394,
      "std_r2": 0.06671884988510698,
      "mean_mae_km": 0.23289467692375182,
      "std_mae_km": 0.018520615819076727,
      "mean_rmse_km": 0.31483362917035546,
      "std_rmse_km": 0.01687276473353896
    },
    {
      "model": "concat",
      "description": "2D CNN + physical features (concatenation fusion)",
      "mean_r2": 0.1804047107696533,
      "std_r2": 0.05699756095657392,
      "mean_mae_km": 0.24589681327342988,
      "std_mae_km": 0.016216172232210946,
      "mean_rmse_km": 0.3358215201121955,
      "std_rmse_km": 0.01284426099110667
    }
  ],
  "best_model": {
    "name": "physical_baseline",
    "description": "GBDT baseline (geometric + atmospheric features)",
    "r2": 0.6759241261737797,
    "mae_km": 0.1356183469486147,
    "rmse_km": 0.21049369620099348
  },
  "detailed_results": {
    "wp3_physical": {
      "model_name": "physical_baseline",
      "description": "GBDT baseline (geometric + atmospheric features)",
      "validation_protocol": "Stratified K-Fold Cross-Validation",
      "n_folds": 5,
      "aggregate_metrics": {
        "mean_r2": 0.6759241261737797,
        "std_r2": 0.0441803276426161,
        "mean_mae_km": 0.1356183469486147,
        "std_mae_km": 0.006836614010198975,
        "mean_rmse_km": 0.21049369620099348,
        "std_rmse_km": 0.012315450995830776
      },
      "per_fold_results": [
        {
          "fold": 0,
          "n_train": 746,
          "n_test": 187,
          "r2": 0.6289650516310563,
          "mae_km": 0.13919548375561913,
          "rmse_km": 0.21626906787256428
        },
        {
          "fold": 1,
          "n_train": 746,
          "n_test": 187,
          "r2": 0.752646829335845,
          "mae_km": 0.12602556237881196,
          "rmse_km": 0.18824714740133133
        },
        {
          "fold": 2,
          "n_train": 746,
          "n_test": 187,
          "r2": 0.663487601728553,
          "mae_km": 0.1436494915960307,
          "rmse_km": 0.22268123941147025
        },
        {
          "fold": 3,
          "n_train": 747,
          "n_test": 186,
          "r2": 0.6411531280144418,
          "mae_km": 0.14019399504828198,
          "rmse_km": 0.2186511945607606
        },
        {
          "fold": 4,
          "n_train": 747,
          "n_test": 186,
          "r2": 0.6933680201590027,
          "mae_km": 0.12902720196432965,
          "rmse_km": 0.20661983175884105
        }
      ]
    },
    "wp4_image_only": {
      "model_name": "image_only",
      "description": "2D CNN baseline (image features only)",
      "validation_protocol": "Stratified K-Fold Cross-Validation",
      "n_folds": 5,
      "aggregate_metrics": {
        "mean_r2": 0.2792235255241394,
        "std_r2": 0.06671884988510698,
        "mean_mae_km": 0.23289467692375182,
        "std_mae_km": 0.018520615819076727,
        "mean_rmse_km": 0.31483362917035546,
        "std_rmse_km": 0.01687276473353896,
        "n_folds": 5
      },
      "per_fold_results": [
        {
          "fold_id": 0,
          "test_flight": "Fold_1",
          "n_train": 596,
          "n_test": 187,
          "r2": 0.21205627918243408,
          "mae_km": 0.2503817081451416,
          "rmse_km": 0.3321097337303118,
          "epoch_trained": 11
        },
        {
          "fold_id": 1,
          "test_flight": "Fold_2",
          "n_train": 596,
          "n_test": 187,
          "r2": 0.3155818581581116,
          "mae_km": 0.2156185805797577,
          "rmse_km": 0.3060998826047877,
          "epoch_trained": 24
        },
        {
          "fold_id": 2,
          "test_flight": "Fold_3",
          "n_train": 596,
          "n_test": 187,
          "r2": 0.39206981658935547,
          "mae_km": 0.20561349391937256,
          "rmse_km": 0.28634569236498747,
          "epoch_trained": 39
        },
        {
          "fold_id": 3,
          "test_flight": "Fold_4",
          "n_train": 597,
          "n_test": 186,
          "r2": 0.2509387731552124,
          "mae_km": 0.2466982901096344,
          "rmse_km": 0.3291786737404904,
          "epoch_trained": 26
        },
        {
          "fold_id": 4,
          "test_flight": "Fold_5",
          "n_train": 597,
          "n_test": 186,
          "r2": 0.2254709005355835,
          "mae_km": 0.2461613118648529,
          "rmse_km": 0.32043416341119996,
          "epoch_trained": 11
        }
      ]
    },
    "wp4_concat": {
      "model_name": "concat",
      "description": "2D CNN + physical features (concatenation fusion)",
      "validation_protocol": "Stratified K-Fold Cross-Validation",
      "n_folds": 5,
      "aggregate_metrics": {
        "mean_r2": 0.1804047107696533,
        "std_r2": 0.05699756095657392,
        "mean_mae_km": 0.24589681327342988,
        "std_mae_km": 0.016216172232210946,
        "mean_rmse_km": 0.3358215201121955,
        "std_rmse_km": 0.01284426099110667,
        "n_folds": 5
      },
      "per_fold_results": [
        {
          "fold_id": 0,
          "test_flight": "Fold_1",
          "n_train": 596,
          "n_test": 187,
          "r2": 0.20952361822128296,
          "mae_km": 0.24079060554504395,
          "rmse_km": 0.3326430462447126,
          "epoch_trained": 35
        },
        {
          "fold_id": 1,
          "test_flight": "Fold_2",
          "n_train": 596,
          "n_test": 187,
          "r2": 0.1770942211151123,
          "mae_km": 0.24830953776836395,
          "rmse_km": 0.33564288505481255,
          "epoch_trained": 12
        },
        {
          "fold_id": 2,
          "test_flight": "Fold_3",
          "n_train": 596,
          "n_test": 187,
          "r2": 0.26904433965682983,
          "mae_km": 0.21790727972984314,
          "rmse_km": 0.31398528701410583,
          "epoch_trained": 26
        },
        {
          "fold_id": 3,
          "test_flight": "Fold_4",
          "n_train": 597,
          "n_test": 186,
          "r2": 0.14530056715011597,
          "mae_km": 0.2650323212146759,
          "rmse_km": 0.35162500249725026,
          "epoch_trained": 7
        },
        {
          "fold_id": 4,
          "test_flight": "Fold_5",
          "n_train": 597,
          "n_test": 186,
          "r2": 0.10106080770492554,
          "mae_km": 0.2574443221092224,
          "rmse_km": 0.34521137975009647,
          "epoch_trained": 2
        }
      ]
    },
    "wp4_attention": {
      "model_name": "attention",
      "description": "2D CNN + physical features (attention fusion)",
      "validation_protocol": "Stratified K-Fold Cross-Validation",
      "n_folds": 5,
      "aggregate_metrics": {
        "mean_r2": 0.326096785068512,
        "std_r2": 0.07666648322420838,
        "mean_mae_km": 0.22146342396736146,
        "std_mae_km": 0.014003824251278017,
        "mean_rmse_km": 0.30425019417329685,
        "std_rmse_km": 0.019154755079143836,
        "n_folds": 5
      },
      "per_fold_results": [
        {
          "fold_id": 0,
          "test_flight": "Fold_1",
          "n_train": 596,
          "n_test": 187,
          "r2": 0.42815524339675903,
          "mae_km": 0.21263787150382996,
          "rmse_km": 0.2829261346004327,
          "epoch_trained": 40
        },
        {
          "fold_id": 1,
          "test_flight": "Fold_2",
          "n_train": 596,
          "n_test": 187,
          "r2": 0.25751250982284546,
          "mae_km": 0.23575933277606964,
          "rmse_km": 0.3188210282006784,
          "epoch_trained": 17
        },
        {
          "fold_id": 2,
          "test_flight": "Fold_3",
          "n_train": 596,
          "n_test": 187,
          "r2": 0.26420533657073975,
          "mae_km": 0.2289121448993683,
          "rmse_km": 0.31502289420142204,
          "epoch_trained": 20
        },
        {
          "fold_id": 3,
          "test_flight": "Fold_4",
          "n_train": 597,
          "n_test": 186,
          "r2": 0.2694721817970276,
          "mae_km": 0.23172718286514282,
          "rmse_km": 0.3250808743573983,
          "epoch_trained": 38
        },
        {
          "fold_id": 4,
          "test_flight": "Fold_5",
          "n_train": 597,
          "n_test": 186,
          "r2": 0.411138653755188,
          "mae_km": 0.19828058779239655,
          "rmse_km": 0.27940003950655307,
          "epoch_trained": 40
        }
      ]
    }
  },
  "key_insights": [
    "Best performing model: physical_baseline with R\u00b2 = 0.6759 \u00b1 0.0442",
    "Physical features (geometric + atmospheric) outperform deep learning approaches, suggesting the 2D CNN may need architectural improvements or better training.",
    "Best hybrid model: attention with R\u00b2 = 0.3261",
    "Attention fusion (R\u00b2=0.3261) outperforms simple concatenation (R\u00b2=0.1804), validating the learned feature weighting approach.",
    "Models achieve good predictive performance (R\u00b2 > 0.5)",
    "Excellent MAE performance: 0.1356 km (~150 meters)"
  ]
}